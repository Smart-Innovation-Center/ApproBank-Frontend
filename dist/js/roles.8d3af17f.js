(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["roles"],{"4bd4":function(t,a,s){"use strict";s("4de4"),s("7db0"),s("4160"),s("caad"),s("07ac"),s("2532"),s("159b"),s("4795");var e=s("5530"),i=s("58df"),n=s("7e2b"),l=s("3206");a["a"]=Object(i["a"])(n["a"],Object(l["b"])("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var a=Object.values(t).includes(!0);this.$emit("input",!a)},deep:!0,immediate:!0}},methods:{watchInput:function(t){var a=this,s=function(t){return t.$watch("hasError",(function(s){a.$set(a.errorBag,t._uid,s)}),{immediate:!0})},e={_uid:t._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?e.shouldValidate=t.$watch("shouldValidate",(function(i){i&&(a.errorBag.hasOwnProperty(t._uid)||(e.valid=s(t)))})):e.valid=s(t),e},validate:function(){return 0===this.inputs.filter((function(t){return!t.validate(!0)})).length},reset:function(){this.inputs.forEach((function(t){return t.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(t){return t.resetValidation()})),this.resetErrorBag()},register:function(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister:function(t){var a=this.inputs.find((function(a){return a._uid===t._uid}));if(a){var s=this.watchers.find((function(t){return t._uid===a._uid}));s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter((function(t){return t._uid!==a._uid})),this.inputs=this.inputs.filter((function(t){return t._uid!==a._uid})),this.$delete(this.errorBag,a._uid)}}},render:function(t){var a=this;return t("form",{staticClass:"v-form",attrs:Object(e["a"])({novalidate:!0},this.attrs$),on:{submit:function(t){return a.$emit("submit",t)}}},this.$slots["default"])}})},d971:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("v-app",[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"sidebar",attrs:{"data-color":"orange","data-background-color":"black"}},[s("div",{staticClass:"logo text-center"},[s("a",{attrs:{href:"../"}},[s("h2",{staticClass:"text-light text-uppercase"},[t._v("Approbank")])]),s("span",{staticClass:"text-orange text-uppercase"},[t._v(t._s(t.userInfos.roles[0].name))])]),s("div",{staticClass:"sidebar-wrapper"},[s("ul",{staticClass:"nav text-left"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"dashboard"}},[s("i",{staticClass:"material-icons"},[t._v("dashboard")]),s("p",[t._v("Tableau de Bord")])])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"profile"}},[s("i",{staticClass:"material-icons"},[t._v("person")]),s("p",[t._v("Profil")])])]),"structureOM"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"mesAgences"}},[s("i",{staticClass:"material-icons"},[t._v("store_mall_directory")]),s("p",[t._v("Mes Agences")])])]):t._e(),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link collapsed text-truncate",attrs:{f:"",href:"#sousmen","data-toggle":"collapse","data-target":"#sousmen"}},[s("i",{staticClass:"material-icons"},[t._v("account_balance_wallet")]),s("p",[t._v("Approvisionnements")])]),s("div",{staticClass:"collapse",attrs:{id:"sousmen","aria-expanded":"false"}},[s("ul",{staticClass:"flex-column pl-2 nav"},["structureOM"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"supply"}},[s("i",{staticClass:"material-icons"},[t._v("add_circle")]),s("p",[t._v("Nouvelle Demande")])])]):t._e(),"adminBanque"===t.userInfos.roles[0].slug||"validatorBanque"===t.userInfos.roles[0].slug||"validatorOMCI"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"demandes"}},[s("i",{staticClass:"material-icons"},[t._v("schedule")]),s("p",[t._v("Demandes en attente")])])]):t._e(),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"listeDemandes"}},[s("i",{staticClass:"material-icons"},[t._v("rule")]),s("p",[t._v("Liste des demandes")])])])])])]),"superAdmin"!==t.userInfos.roles[0].slug&&"supervisor"!==t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"notifications"}},[s("i",{staticClass:"material-icons"},[t._v("notifications")]),s("p",[t._v("Notifications")])])]):t._e(),"superAdmin"===t.userInfos.roles[0].slug||"validatorOMCI"===t.userInfos.roles[0].slug||"managerOMCI"===t.userInfos.roles[0].slug||"adminBanque"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link collapsed text-truncate",attrs:{href:"#sousmenuAdmin","data-toggle":"collapse","data-target":"#sousmenuAdmin"}},[s("i",{staticClass:"material-icons"},[t._v("visibility")]),s("p",[t._v("Administration")])]),s("div",{staticClass:"collapse",attrs:{id:"sousmenuAdmin","aria-expanded":"false"}},[s("ul",{staticClass:"flex-column pl-2 nav"},["adminBanque"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item active"},[s("a",{staticClass:"nav-link",attrs:{href:"validateursBanque"}},[s("i",{staticClass:"material-icons"},[t._v("done_all")]),s("p",[t._v("Validateurs")])])]):t._e(),"managerOMCI"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"validateursOM"}},[s("i",{staticClass:"material-icons"},[t._v("done_all")]),s("p",[t._v("Validateurs")])])]):t._e(),"validatorOMCI"===t.userInfos.roles[0].slug||"managerOMCI"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link collapsed text-truncate",attrs:{href:"#sousmenuStructure","data-toggle":"collapse","data-target":"#sousmenuStructure"}},[s("i",{staticClass:"material-icons"},[t._v("home")]),s("p",[t._v("Gestion des Structures")])]),s("div",{staticClass:"collapse",attrs:{id:"sousmenuStructure","aria-expanded":"false"}},[s("ul",{staticClass:"flex-column pl-2 nav"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[s("i",{staticClass:"material-icons"},[t._v("palette")]),s("p",[t._v("Liste des Structures")])])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[s("i",{staticClass:"material-icons"},[t._v("palette")]),s("p",[t._v("Liste des Agences")])])])])])]):t._e(),"validatorOMCI"===t.userInfos.roles[0].slug||"managerOMCI"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"comptesBanqueOrange"}},[s("i",{staticClass:"material-icons"},[t._v("account_balance")]),s("p",[t._v("Comptes Banque Orange")])])]):t._e()])])]):t._e(),s("li",{staticClass:"nav-item active"},[s("a",{staticClass:"nav-link collapsed text-truncate",attrs:{href:"#sousmenu","data-toggle":"collapse","data-target":"#sousmenu"}},[s("i",{staticClass:"material-icons"},[t._v("settings")]),s("p",[t._v("Paramètres")])]),s("div",{staticClass:"collapse",attrs:{id:"sousmenu","aria-expanded":"false"}},[s("ul",{staticClass:"flex-column pl-2 nav"},["superAdmin"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[s("i",{staticClass:"material-icons"},[t._v("info_outline")]),s("p",[t._v("Approbank")])])]):t._e(),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[s("i",{staticClass:"material-icons"},[t._v("palette")]),s("p",[t._v("Affichage")])])]),"superAdmin"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"utilisateurs"}},[s("i",{staticClass:"material-icons"},[t._v("groups")]),s("p",[t._v("Gestion des Utilisateurs")])])]):t._e(),"superAdmin"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item active"},[s("a",{staticClass:"nav-link",attrs:{href:"roles"}},[s("i",{staticClass:"material-icons"},[t._v("safety_divider")]),s("p",[t._v("Gestion des Rôles")])])]):t._e(),"superAdmin"===t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[s("i",{staticClass:"material-icons"},[t._v("lock")]),s("p",[t._v("Gestion des Permissions")])])]):t._e()])])]),s("hr",{staticClass:"bg-orange"}),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[s("i",{staticClass:"material-icons"},[t._v("menu_book")]),s("p",[t._v("Documentation")])])]),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[s("i",{staticClass:"material-icons"},[t._v("support_agent")]),s("p",[t._v("Service Support")])])])])])]),s("div",{staticClass:"main-panel"},[s("nav",{staticClass:"navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top "},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"navbar-wrapper"},[s("a",{staticClass:"navbar-brand",attrs:{href:"javascript:;"}},[t._v("Gestion des Rôles")])]),s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","aria-controls":"navigation-index","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"sr-only"},[t._v("Toggle navigation")]),s("span",{staticClass:"navbar-toggler-icon icon-bar"}),s("span",{staticClass:"navbar-toggler-icon icon-bar"}),s("span",{staticClass:"navbar-toggler-icon icon-bar"})]),s("div",{staticClass:"collapse navbar-collapse justify-content-end"},[s("ul",{staticClass:"navbar-nav"},[s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"dashboard"}},[s("i",{staticClass:"material-icons"},[t._v("dashboard")]),s("p",{staticClass:"d-lg-none d-md-block"},[t._v(" Tableau de bord ")])])]),"superAdmin"!==t.userInfos.roles[0].slug?s("li",{staticClass:"nav-item dropdown"},[s("a",{staticClass:"nav-link",attrs:{href:"",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"material-icons"},[t._v("notifications")]),s("span",{staticClass:"notification"},[t._v("1")]),s("p",{staticClass:"d-lg-none d-md-block"},[t._v(" Notifications ")])]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbarDropdownMenuLink"}},[s("a",{staticClass:"dropdown-item",attrs:{href:"notifications"}},[t._v(" Nouvelle demande en attente de validation ! ")]),s("a",{staticClass:"dropdown-item",attrs:{href:"notifications"}},[t._v(" Votre demande a été approuvée (1/2) ! ")])])]):t._e(),s("li",{staticClass:"nav-item dropdown"},[s("a",{staticClass:"nav-link",attrs:{href:"javascript:;",id:"navbarDropdownProfile","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("i",{staticClass:"material-icons"},[t._v("person")]),s("p",{staticClass:"d-lg-none d-md-block"},[t._v(" Mon Compte ")])]),s("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"navbarDropdownProfile"}},[s("h4",{staticClass:"text-center font-weight-bold text-orange text-uppercase"},[t._v(t._s(t.userInfos.name))]),s("div",{staticClass:"dropdown-divider"}),s("a",{staticClass:"dropdown-item",attrs:{href:"profile"}},[t._v("Mon Profil")]),s("a",{staticClass:"dropdown-item",on:{click:t.logout}},[t._v("Me Déconnecter")])])])])])])]),s("div",{staticClass:"content"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},["superAdmin"===t.userInfos.roles[0].slug?s("div",{staticClass:"col-md-12"},[s("v-card",[[s("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.roles,"hide-select":"",search:t.search,loading:"","loading-text":"Chargement... Veuillez patienter","no-results-text":"Aucune donnée à afficher","footer-props.items-per-page-text":"Données "},scopedSlots:t._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:""}},[s("v-toolbar-title",[t._v("Liste des roles ("+t._s(t.roles.length)+")")]),s("v-divider",{staticClass:"mx-15",attrs:{inset:"",vertical:""}}),s("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Recherche","single-line":"","hide-details":""},model:{value:t.search,callback:function(a){t.search=a},expression:"search"}}),s("v-spacer"),s("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(a){var e=a.on,i=a.attrs;return[s("v-btn",t._g(t._b({staticClass:"mb-2 btn-orange"},"v-btn",i,!1),e),[t._v(" Ajouter ")])]}}],null,!1,1799360948),model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),s("v-card-text",[s("v-form",[s("v-text-field",{attrs:{label:"Nom du rôle",name:"nom","prepend-icon":"mdi-account",type:"text"},model:{value:t.editedItem.name,callback:function(a){t.$set(t.editedItem,"name",a)},expression:"editedItem.name"}}),s("v-text-field",{attrs:{label:"Slug",name:"slug","prepend-icon":"mdi-account",type:"text"},model:{value:t.editedItem.slug,callback:function(a){t.$set(t.editedItem,"slug",a)},expression:"editedItem.slug"}})],1)],1),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"btn btn-link btn-default",attrs:{text:""},on:{click:t.close}},[t._v(" Annuler ")]),s("v-btn",{staticClass:"btn btn-orange",attrs:{text:""},on:{click:t.save}},[t._v(" Enregister ")])],1)],1)],1),s("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(a){t.dialogDelete=a},expression:"dialogDelete"}},[s("v-card",[s("v-card-title",{staticClass:"headline"},[t._v("Êtes-vous sûr de supprimer le rôle "+t._s(t.editedItem.name)+" ?")]),s("v-card-actions",[s("v-spacer"),s("v-btn",{staticClass:"btn btn-default btn-link",attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Annuler")]),s("v-btn",{staticClass:"btn btn-danger",attrs:{color:"blue darken-1",text:""},on:{click:function(a){return t.deleteItemConfirm(t.editedItem.id)}}},[t._v("Supprimer")]),s("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(a){var e=a.item;return[!0!==e.isSystem?s("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(a){return t.editItem(e)}}},[t._v(" mdi-pencil ")]):t._e(),!0!==e.isSystem?s("v-icon",{attrs:{small:""},on:{click:function(a){return t.deleteItem(e)}}},[t._v(" mdi-delete ")]):t._e()]}},{key:"no-data",fn:function(){return[t._v(" Aucune donnée à afficher ")]},proxy:!0}],null,!1,3924978779)})]],2)],1):t._e()])])])])])])},i=[],n=(s("c975"),s("a434"),s("5530")),l=s("2f62"),r={name:"utilisateurs",data:function(){return{search:"",edit:!1,dialog:!1,dialogDelete:!1,headers:[{text:"Nom du Rôle",align:"start",value:"name"},{text:"Slug",value:"slug"},{text:"Rôle Sytème",value:"isSystem"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{name:"",slug:"",isSystem:!1},defaultItem:{name:"",slug:"",isSystem:!1}}},computed:Object(n["a"])(Object(n["a"])({formTitle:function(){return-1===this.editedIndex?"Nouveau Rôle":"Modifier Rôle"}},Object(l["c"])({userInfos:"user/userInfos",roles:"role/loadRoles"})),Object(l["d"])({banks:function(t){return t.bank.banks},roles:function(t){return t.role.roles}})),watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()}},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])({})),{},{editItem:function(t){console.log(t),this.editedIndex=this.roles.indexOf(t),this.editedItem=Object.assign({},t),this.edit=!0,this.dialog=!0},deleteItem:function(t){this.editedIndex=this.roles.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm:function(t){this.deleteRole(t),this.roles.splice(this.editedIndex,1),this.closeDelete()},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){this.editedIndex>-1?(Object.assign(this.roles[this.editedIndex],this.editedItem),this.updateRole(this.editedItem)):(this.addRole(this.editedItem),this.roles.push(this.editedItem)),this.close()},logout:function(){var t=this;this.$store.dispatch("user/logoutUser").then((function(){t.$router.push({name:"login"})}))}}),mounted:function(){this.$store.dispatch("role/loadRoles")}},o=r,c=s("2877"),d=s("6544"),u=s.n(d),v=s("7496"),m=s("8336"),p=s("b0af"),f=s("99d9"),h=s("8fea"),C=s("169a"),g=s("ce7e"),_=s("4bd4"),b=s("132d"),x=s("2fa4"),I=s("8654"),k=s("71d9"),w=s("2a7f"),O=Object(c["a"])(o,e,i,!1,null,null,null);a["default"]=O.exports;u()(O,{VApp:v["a"],VBtn:m["a"],VCard:p["a"],VCardActions:f["a"],VCardText:f["b"],VCardTitle:f["c"],VDataTable:h["a"],VDialog:C["a"],VDivider:g["a"],VForm:_["a"],VIcon:b["a"],VSpacer:x["a"],VTextField:I["a"],VToolbar:k["a"],VToolbarTitle:w["a"]})}}]);
//# sourceMappingURL=roles.8d3af17f.js.map